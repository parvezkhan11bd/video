<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html lang='en' xml:lang='en' xmlns='http://www.w3.org/1999/xhtml' xmlns:b='http://www.google.com/2005/gml/b' xmlns:data='http://www.google.com/2005/gml/data' xmlns:expr='http://www.google.com/2005/gml/expr'>
<head>
<meta content='HTML Tidy for HTML5 for Linux version 5.6.0' name='generator'/>
<meta charset='UTF-8'/>
<meta content='width=device-width, initial-scale=1.0' name='viewport'/>
<title>Kamarkhali Broadband Live</title>
<meta content='ENJOY FREE LIVE IPTV' name='description'/>
<meta content='Watch live sports streaming online, including football, basketball, baseball, hockey, and more. Stream your favorite sports teams and events in HD, with no cable subscription required.' name='keywords'/>
<meta content='Rubel Vai' name='author'/>
<meta content='IE=edge' http-equiv='X-UA-Compatible'/>
<link href='https://i.ibb.co.com/PQgtMq7/img-1-1728903047238.webp' rel='shortcut icon' type='image/x-icon'/>
<link href='https://cdn.jsdelivr.net/npm/plyr@3.6.2/dist/plyr.css' rel='stylesheet'/>
<script src='https://cdn.jsdelivr.net/npm/plyr@3.6.12/dist/plyr.min.js'/>
<script src='https://cdn.jsdelivr.net/npm/hls.js@1.1.4/dist/hls.min.js'/>
<link href='t.me/engparvezkhan' rel='me'/>

<b:skin><![CDATA[


        body {
            font-family: 'Poppins', sans-serif;
            background-color: #181818;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        /* Custom Text Styling */
        .custom-text {
            margin-top: 20px;
            text-align: center;
        }

        .custom-text h1 {
            font-size: 2rem;
            color: #4CAF50;
            background-color: #222;
            padding: 10px;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
        }

        .video-player {
            padding: 20px;
            border-radius: 15px;
            margin: 20px 0;
            background-color: #1a1a1a;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.5);
            width: 97%;
            max-width: 500px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .video-player h2 {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .video-player video {
            width: 100%;
            height: auto;
            border-radius: 10px;
            border: 2px solid #FFFFFF;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.3);
        }

        .loading {
            font-size: 18px;
            color: white;
            background-color: rgba(0, 0, 0, 0.8);
            padding: 10px;
            border-radius: 10px;
            display: block;
            text-align: center;
        }

        .channel-list {
            background-color: #2b2b2b;
            padding: 20px;
            border-radius: 10px;
            width: 100%;
            max-width: 360px;
            text-align: center;
        }

        .channel-list h2 {
            background-color: #4CAF50;
            color: white;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
        }

        .channel-buttons {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .channel-buttons a {
            background-color: #333;
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 10px;
            margin: 10px;
            transition: background-color 0.3s ease;
            text-decoration: none;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2);
        }

        .channel-buttons a img {
            width: 80px;
            height: 80px;
            border-radius: 50%;
        }

        .channel-buttons a:hover {
            background-color: #4CAF50;
            box-shadow: 0px 4px 12px rgba(0, 0, 0, 0.4);
        }

        @media (max-width: 768px) {
            .video-player,
            .channel-list {
                width: 100%;
                padding: 10px;
            }

            .channel-buttons a {
                width: 80px;
                height: 80px;
            }

            .channel-buttons a img {
                width: 60px;
                height: 60px;
            }
        }

]]></b:skin>
</head>
<body>
<!-- Custom Text Section -->
<div class='custom-text'>
<header><a href='https://www.t.me/engparvezkhan'><img class='responsive-img' src='https://i.ibb.co.com/WthG9Mn/IMG-20241015-WA0000.jpg' style='width: 400px; height: auto;'/></a></header>
</div>
<!-- Video Player Section -->
<div class='video-player'>

<video autoplay='' controls='' crossorigin='' id='videoPlayer' playsinline='' unmuted=''><source id='videoSource' src='' type='application/vnd.apple.mpegurl'/></video> 
<!-- container -->
<div id='rmpPlayer'/>
<b:section class='marquee' id='marquee' showaddelement='yes'/>  
<div class='marquee yellow'><marquee direction='left' onmouseout='start()' onmouseover='stop()' scrollamount='5'>*** বর&#2509;তম&#2494;ন&#2503;
আম&#2494;দ&#2503;র ওয়&#2503;ব স&#2494;ইট আপড&#2503;ট চলছ&#2503;, আপড&#2503;ট চল&#2494;ক&#2494;ল&#2496;ন সময&#2492; ক&#2495;ছ&#2497; চ&#2509;য&#2494;ন&#2503;ল ড&#2494;উন
হত&#2503; প&#2494;র&#2503;&#2404; ট&#2495;ভ&#2495; চ&#2509;য&#2494;ন&#2503;ল প&#2509;ল&#2503; হত&#2503; ৫ থ&#2503;ক&#2503; ১০ স&#2503;ক&#2503;ন&#2509;ড ট&#2494;ইম ন&#2495;ত&#2503; প&#2494;র&#2503;,
তব&#2503; স&#2503;ট&#2494; স&#2494;র&#2509;ভ&#2494;র ও আপন&#2494;র ইন&#2509;ট&#2494;রন&#2503;ট&#2503;র উপর ন&#2495;র&#2509;ভর করব&#2503;&#2404; KB Live ট&#2495;ভ&#2495;র
স&#2494;থ&#2503; থ&#2494;ক&#2497;ন, ধন&#2509;যব&#2494;দ&#2404; ***</marquee></div>
<!-- container --></div>
<div class='loading' id='channelLoading'>
<p>Loading channels...</p>
</div>
<b:section class='main' id='main' showaddelement='yes'/>  
<div class='channel-buttons' id='channelList' style='display: none;'>
<!-- Channels will be dynamically loaded here --></div>
<script>
    const video = document.getElementById(&#39;videoPlayer&#39;);
    const videoLoading = document.getElementById(&#39;videoLoading&#39;);
    const channelLoading = document.getElementById(&#39;channelLoading&#39;);
    const channelList = document.getElementById(&#39;channelList&#39;);

    // Display video loading animation
    video.addEventListener(&#39;waiting&#39;, function () {
        videoLoading.style.display = &#39;block&#39;;
    });

    video.addEventListener(&#39;playing&#39;, function () {
        videoLoading.style.display = &#39;none&#39;;
    });

    // Load demo video when the page loads
    document.addEventListener(&#39;DOMContentLoaded&#39;, function () {
        const demoVideoUrl = &#39;https://i.imgur.com/mIF83eI.mp4&#39;;
        loadVideo(demoVideoUrl);

        // Fetch and load channels
        loadChannels();
    });

    function loadVideo(sourceUrl) {
        if (Hls.isSupported()) {
            if (window.hls) {
                window.hls.destroy();
            }
            var hls = new Hls();
            hls.loadSource(sourceUrl);
            hls.attachMedia(video);
            window.hls = hls;
        } else if (video.canPlayType(&#39;application/vnd.apple.mpegurl&#39;)) {
            video.src = sourceUrl;
        }
        video.play();
    }

    function loadChannels() {
        // Simulate delay for loading channels
        setTimeout(function () {
            fetch(&#39;https://raw.githubusercontent.com/parvezkhan11bd/parvez_ip/refs/heads/main/toffe.m3u&#39;)
                .then(function (response) { return response.text(); })
                .then(function (data) {
                    const lines = data.split(&#39;\n&#39;);
                    let channels = [];
                    let currentChannel = {};

                    lines.forEach(function (line) {
                        if (line.startsWith(&#39;#EXTINF&#39;)) {
                            const logoMatch = line.match(/tvg-logo=&quot;(.*?)&quot;/);
                            const nameMatch = line.match(/,(.*)/);
                            if (logoMatch &amp;&amp; nameMatch) {
                                currentChannel.logo = logoMatch[1];
                                currentChannel.name = nameMatch[1];
                            }
                        } else if (line.startsWith(&#39;http&#39;)) {
                            currentChannel.url = line.trim();
                            channels.push(currentChannel);
                            currentChannel = {};
                        }
                    });

                    channels.forEach(function (channel) {
                        const channelButton = document.createElement(&#39;a&#39;);
                        channelButton.href = &quot;#&quot;;
                        channelButton.classList.add(&#39;channel-link&#39;);
                        channelButton.setAttribute(&#39;data-link&#39;, channel.url);

                        const logoImg = document.createElement(&#39;img&#39;);
                        logoImg.src = channel.logo;
                        logoImg.alt = channel.name + &#39; Logo&#39;;

                        channelButton.appendChild(logoImg);
                        channelList.appendChild(channelButton);
                    });

                    // Display channels after loading
                    channelLoading.style.display = &#39;none&#39;;
                    channelList.style.display = &#39;flex&#39;;

                    // Add event listeners to channel links
                    document.querySelectorAll(&#39;.channel-link&#39;).forEach(function (link) {
                        link.addEventListener(&#39;click&#39;, function (event) {
                            event.preventDefault();
                            const newSource = this.getAttribute(&#39;data-link&#39;);
                            loadVideo(newSource);
                        });
                    });
                });
        }, 2000); // Simulating a delay for demonstration
    }
</script>

</body>
</html>
